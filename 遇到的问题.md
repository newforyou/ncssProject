# 分析和问题

## 1.分析

点击下一页时，网站的url没有改变，判断职位信息为动态数据，使用开发者工具验证，数据确实为动态生成，并且为json数据

![](Y:\专业实习\遇到的问题\json数据.png)

并且url的参数是加密的，直接使用requests请求该url无法访问到数据

![](Y:\专业实习\遇到的问题\加密的参数.png)

解决的方法：

1. js逆向解密
2. selenium获取动态数据

使用开发者工具，查看到了未加密参数实际为以下几个：

![](Y:\专业实习\遇到的问题\参数.png)

尝试性的在ajax的url`https://www.ncss.cn/student/jobs/jobslist/ajax/?`里带入了两个参数`offset`（开始页码）和`limit`（一页显示数据数目），可以访问如下页面：

![](Y:\专业实习\遇到的问题\页面.png)

那么问题就迎刃而解了，我的思路如下：

1. 使用selenium获取到页面里的数据
2. 将数据存储到json文件中
3. 处理json文件里的数据，得到职位信息
4. 将职位信息插入数据库

完成代码编写后，遇到了很多的问题：

- 插入数据时设置的字段长度太短，major字段出入数据库失败
- 
- 